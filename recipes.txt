## recipes for set up SUSYAnalysis User Code of Niklas Pietsch

cmsrel CMSSW_3_8_6
cd CMSSW_3_8_6/src
cmsenv

## Co UserCode
cvs co -d SUSYAnalysis UserCode/npietsch/SUSYAnalysis
cvs co -d TopAnalysis UserCode/Bromo/TopAnalysis
cvs co -d SusyAnalysis/EventSelector UserCode/SusyAnalysis/EventSelector

## Enable cut based electron ID
cvs co -r V00-03-14-02 RecoEgamma/ElectronIdentification
cvs co ElectroWeakAnalysis/WENu/python/simpleCutBasedElectronIDSpring10_cfi.py (r 1.6)
cvs co ElectroWeakAnalysis/WENu/python/simpleEleIdSequence_cff.py
cp ElectroWeakAnalysis/WENu/python/simpleCutBasedElectronIDSpring10_cfi.py ./RecoEgamma/ElectronIdentification/python
cp ElectroWeakAnalysis/WENu/python/simpleEleIdSequence_cff.py ./SUSYAnalysis/SUSYAnalyzer/python
rm -r ElectroWeakAnalysis

## Co CMSSW packages
cvs co -r V06-07-04 TopQuarkAnalysis
cvs co TopQuarkAnalysis/TopEventProducers/python/producers/TtGenEventFilter_cfi.py
cvs co TopQuarkAnalysis/TopEventProducers/src/SealModule.cc
cvs co -r CMSSW_3_8_3 AnalysisDataFormats/TopObjects
cvs co -r CMSSW_3_8_6 PhysicsTools/PatAlgos

## Co metSelector and -CountFilter
cvs co PhysicsTools/PatAlgos/python/selectionLayer1/metSelector_cfi.py
cvs co PhysicsTools/PatAlgos/python/selectionLayer1/metCountFilter_cfi.py

## mv files to AnalysisDataFormats/TopObjects
mv SUSYAnalysis/SUSYObjetcs/interface/SUSYGenEvent.h ./AnalysisDataFormats/TopObjects/interface/
mv SUSYAnalysis/SUSYObjetcs/src/SUSYGenEvent.cc ./AnalysisDataFormats/TopObjects/src/

## open AnalysisDataFormats/TopObjects/src/classes.h and add following line in the header ...
#include "AnalysisDataFormats/TopObjects/interface/SUSYGenEvent.h"

## ... and following lines in dictionary
SUSYGenEvent susygen;
edm::Wrapper<SUSYGenEvent> w_susygen;

## open AnalysisDataFormats/TopObjects/src/classes_def.xml and add following lines
<class name="SUSYGenEvent" />
<class name="edm::Wrapper<SUSYGenEvent>" />

## update the header of SUSYAnalysis/SUSYAnalyzer/python/simpleEleIdSequence_cff.py

## debug TopQuarkAnalysis/TopEventProducers/src/TopDecaySubset.cc by replacing "kStart" by "kPythia" in constructor, when using a sample produced with Pythia

scram b -r -j 8

## ignore warnings in TopAnalysis/TopAnalyzer/plugins/TagAndProbeAnalyzer.h